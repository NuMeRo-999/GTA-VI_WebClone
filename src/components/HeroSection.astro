---
import HeroKeyLogo from "@/assets/hero-key-logo.webp";
import HeroKeyBackground from "@/assets/hero-key-background.webp";
---

<div id="logo-mask" class="fixed top-0 w-full h-screen">
  <section>
    <picture
      id="hero-key"
      class="h-screen scale-125 block overflow-hidden fixed"
    >
      <img
        id="hero-key-logo"
        src={HeroKeyLogo.src}
        class="absolute w-full h-full object-cover"
      />
      <img
        id="hero-key-background"
        src={HeroKeyBackground.src}
        class="w-full h-full object-cover"
      />
    </picture>
  </section>
</div>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  gsap.from("#hero-key-logo", { duration: 1, drawSVG: 0 });

  const tl = gsap.timeline({
    ease: "power2.out",
    scrollTrigger: {
      scrub: 1,
    },
  });

  tl.to("#hero-key", { duration: 1, scale: 1 })
    .to("#hero-key-logo", { opacity: 0 }, "<")
    .to("#hero-footer", { opacity: 0 }, "<")
    .to("#hero-play-button", { opacity: 0 }, "<")
    .to(
      "#logo-mask",
      {
        maskSize: "clamp(20vh, 25%, 30vh)",
      },
      0.15
    )
    .to(
      "#hero-key",
      {
        opacity: 0,
        duration: 0.2,
      },
      0.4
    );
</script>
